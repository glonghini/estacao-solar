{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\gabri\\\\Documents\\\\GitHub\\\\estacao-solar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\gabri\\\\Documents\\\\GitHub\\\\estacao-solar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\gabri\\\\Documents\\\\GitHub\\\\estacao-solar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\gabri\\\\Documents\\\\GitHub\\\\estacao-solar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\gabri\\\\Documents\\\\GitHub\\\\estacao-solar\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\gabri\\\\Documents\\\\GitHub\\\\estacao-solar\\\\src\\\\views\\\\Home.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Camera } from '../components/camera.js';\nimport { Header } from '../components/header.js';\nimport { UVIndex } from '../components/uv_index.js'; //import { Switch } from '../components/switch.js';\n\nimport { TempHumi } from '../components/TempHumi.js';\nimport { SunriseSunset } from '../components/SunriseSunset.js';\nimport { WeatherForecast } from '../containers/weather_forecast.js';\nexport var Home =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      //constantes para o component TempHumi.js\n      temperaturaClimatempo: null,\n      umidadeClimatempo: null,\n      temperaturaSEL: null,\n      umidadeSEL: null,\n      uvSEL: null,\n      chuvaSEL: null,\n      //constantes para o component SunriseSunset.js\n      nascerDoSol: null,\n      porDoSol: null,\n      duracaoDoDia: null,\n      //constantes para o component Gate.js\n      isGateOpen: null,\n      isRaining: null,\n      ExpositionTime: null\n    };\n\n    _this.requestClimatempo = function () {\n      //Fetch da API do Climatempo\n      axios.get('http://apiadvisor.climatempo.com.br/api/v1/weather/locale/3680/current?token=2e30b5793b0c662d9b901520663bd4d0').then(function (response) {\n        console.log(response.data);\n\n        _this.setState({\n          temperaturaClimatempo: response.data.data.temperature + '°C',\n          umidadeClimatempo: response.data.data.humidity + '%'\n        });\n\n        _this.updateWidgets();\n      }).catch(function (error) {\n        console.log('erro com o request do climatempo');\n        console.log(error);\n      });\n      setTimeout(_this.requestClimatempo, 1000 * 60 * 5);\n    };\n\n    _this.requestLioSensors = function () {\n      //Fetch da API do liosensors\n      axios.get('http://www.sel.eesc.usp.br/liosensors/json_data.php').then(function (response) {\n        console.log(response.data);\n\n        _this.setState({\n          temperaturaSEL: response.data.lastTemp + '°C',\n          umidadeSEL: response.data.lastHum + '%',\n          uvSEL: Math.round(response.data.lastUV),\n          chuvaSEL: response.data.Rain\n        });\n\n        _this.updateWidgets();\n      }).catch(function (error) {\n        console.log('erro com o request dos nossos sensores na SEL');\n        console.log(error);\n      });\n      setTimeout(_this.requestLioSensors, 1000 * 30);\n    };\n\n    _this.requestSunriseSunsetTime = function () {\n      //utilizando o método get para pegar os dados da API da Beaglebone da SEL\n      axios.get('http://143.107.235.2:8000/sensors/data/').then(function (response) {\n        console.log(response.data);\n\n        _this.setState({\n          nascerDoSol: response.data.sensors[0].local.sunrise.slice(10, 19),\n          porDoSol: response.data.sensors[0].local.sunset.slice(10, 19),\n          duracaoDoDia: response.data.sensors[0].local.time.slice(10, 19)\n        });\n\n        _this.updateWidgets(response.data.sensors[0].open, _this.checkDaytime(), response.data.sensors[0].rain, response.data.sensors[0].ExpositionTime);\n      }).catch(function (error) {\n        console.log('erro com o request do 143.107.235.2:8000');\n        console.log(error);\n      });\n      setTimeout(_this.requestSunriseSunsetTime, 30 * 1000);\n    };\n\n    _this.checkDaytime = function () {\n      var timeNow = new Date(); //verificamos se a hora está entre a hora do nascer do sol e a hora do por do sol\n\n      if (timeNow.getHours() > _this.state.nascer_do_sol.slice(0, 3) && timeNow.getHours() < _this.state.por_do_sol.slice(0, 3)) {\n        return true;\n      } //verificamos se a hora é igual a hora do nascer do sol\n\n\n      if (timeNow.getHours() === _this.state.nascer_do_sol.slice(0, 3)) {\n        //verificamos se o minuto é maior ou igual o minuto do nascer do sol\n        if (timeNow.getMinutes() > _this.state.nascer_do_sol.slice(4, 6)) {\n          return true;\n        } //caso o minuto seja igual, verificamos os segundos\n\n\n        if (timeNow.getMinutes() === _this.state.nascer_do_sol.slice(4, 6)) {\n          //caso o segundo seja maior ou igual\n          if (timeNow.getSeconds() >= _this.state.nascer_do_sol.slice(7, 9)) {\n            return true;\n          } //caso o segundo seja menor\n\n\n          if (timeNow.getSeconds() < _this.state.nascer_do_sol.slice(7, 9)) {\n            return false;\n          }\n        } //caso o minuto seja menor que o do nascer do sol\n\n\n        if (timeNow.getMinutes() < _this.state.nascer_do_sol.slice(4, 6)) {\n          return false;\n        }\n      } //verificamos se a hora é igual a hora do por do sol\n\n\n      if (timeNow.getHours() === _this.state.por_do_sol.slice(0, 3)) {\n        //verificamos se o minuto é menor ou igual o minuto do nascer do sol\n        if (timeNow.getMinutes() < _this.state.por_do_sol.slice(4, 6)) {\n          return true;\n        } //caso o minuto seja igual, verificamos os segundos\n\n\n        if (timeNow.getMinutes() === _this.state.por_do_sol.slice(4, 6)) {\n          //caso o segundo seja maior ou igual\n          if (timeNow.getSeconds() <= _this.state.por_do_sol.slice(7, 9)) {\n            return true;\n          } //caso o segundo seja menor\n\n\n          if (timeNow.getSeconds() > _this.state.por_do_sol.slice(7, 9)) {\n            return false;\n          }\n        } //caso o minuto seja maior que o do nascer do sol\n\n\n        if (timeNow.getMinutes() > _this.state.por_do_sol.slice(4, 6)) {\n          return false;\n        }\n      } //verificamos se a hora é menor que a hora do nascer do sol ou maior que a hora do por do sol\n\n\n      if (timeNow.getHours() < _this.state.nascer_do_sol.slice(0, 3) || timeNow.getHours() > _this.state.por_do_sol.slice(0, 3)) {\n        return false;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"left-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(TempHumi, {\n        temperaturaClimatempo: this.state.temperaturaClimatempo,\n        umidadeClimatempo: this.state.umidadeClimatempo,\n        temperaturaSEL: this.state.temperaturaSEL,\n        umidadeSEL: this.state.umidadeSEL,\n        chuvaSEL: this.state.chuvaSEL,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(WeatherForecast, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(SunriseSunset, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(React.Component);","map":{"version":3,"sources":["C:\\Users\\gabri\\Documents\\GitHub\\estacao-solar\\src\\views\\Home.js"],"names":["React","axios","Camera","Header","UVIndex","TempHumi","SunriseSunset","WeatherForecast","Home","state","temperaturaClimatempo","umidadeClimatempo","temperaturaSEL","umidadeSEL","uvSEL","chuvaSEL","nascerDoSol","porDoSol","duracaoDoDia","isGateOpen","isRaining","ExpositionTime","requestClimatempo","get","then","response","console","log","data","setState","temperature","humidity","updateWidgets","catch","error","setTimeout","requestLioSensors","lastTemp","lastHum","Math","round","lastUV","Rain","requestSunriseSunsetTime","sensors","local","sunrise","slice","sunset","time","open","checkDaytime","rain","timeNow","Date","getHours","nascer_do_sol","por_do_sol","getMinutes","getSeconds","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Camera } from '../components/camera.js';\r\nimport { Header } from '../components/header.js';\r\nimport { UVIndex } from '../components/uv_index.js';\r\n//import { Switch } from '../components/switch.js';\r\nimport { TempHumi } from '../components/TempHumi.js';\r\nimport { SunriseSunset } from '../components/SunriseSunset.js';\r\nimport { WeatherForecast } from '../containers/weather_forecast.js';\r\n\r\nexport class Home extends React.Component {\r\n  state = {\r\n    //constantes para o component TempHumi.js\r\n    temperaturaClimatempo: null,\r\n    umidadeClimatempo: null,\r\n    temperaturaSEL: null,\r\n    umidadeSEL: null,\r\n    uvSEL: null,\r\n    chuvaSEL: null,\r\n    //constantes para o component SunriseSunset.js\r\n    nascerDoSol: null,\r\n    porDoSol: null,\r\n    duracaoDoDia: null,\r\n    //constantes para o component Gate.js\r\n    isGateOpen: null,\r\n    isRaining: null,\r\n    ExpositionTime: null\r\n  }\r\n  requestClimatempo = () => {\r\n  //Fetch da API do Climatempo\r\n    axios.get('http://apiadvisor.climatempo.com.br/api/v1/weather/locale/3680/current?token=2e30b5793b0c662d9b901520663bd4d0')\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState(\r\n          {\r\n            temperaturaClimatempo: response.data.data.temperature + '°C',\r\n            umidadeClimatempo: response.data.data.humidity + '%',\r\n          }\r\n        );\r\n        this.updateWidgets();\r\n      })\r\n      .catch(error => {\r\n        console.log('erro com o request do climatempo');\r\n        console.log(error);\r\n      });\r\n      setTimeout(this.requestClimatempo, 1000*60*5);\r\n  }\r\n  requestLioSensors = () => {\r\n    //Fetch da API do liosensors\r\n    axios.get('http://www.sel.eesc.usp.br/liosensors/json_data.php')\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState(\r\n          {\r\n            temperaturaSEL: response.data.lastTemp + '°C',\r\n            umidadeSEL: response.data.lastHum + '%',\r\n            uvSEL: Math.round(response.data.lastUV),\r\n            chuvaSEL: response.data.Rain\r\n          }\r\n        );\r\n        this.updateWidgets();\r\n      })\r\n      .catch(error => {\r\n        console.log('erro com o request dos nossos sensores na SEL');\r\n        console.log(error);\r\n      })\r\n      setTimeout(this.requestLioSensors, 1000*30);\r\n  }\r\n  requestSunriseSunsetTime = () => {\r\n    //utilizando o método get para pegar os dados da API da Beaglebone da SEL\r\n    axios.get('http://143.107.235.2:8000/sensors/data/')\r\n      .then(response => {\r\n        console.log(response.data);\r\n        this.setState(\r\n          {\r\n            nascerDoSol: response.data.sensors[0].local.sunrise.slice(10,19),\r\n            porDoSol: response.data.sensors[0].local.sunset.slice(10,19),\r\n            duracaoDoDia: response.data.sensors[0].local.time.slice(10,19)\r\n          }\r\n        );\r\n        this.updateWidgets(response.data.sensors[0].open, this.checkDaytime(), response.data.sensors[0].rain, response.data.sensors[0].ExpositionTime);\r\n      })\r\n      .catch(error => {\r\n        console.log('erro com o request do 143.107.235.2:8000');\r\n        console.log(error);\r\n      })\r\n    setTimeout(this.requestSunriseSunsetTime, 30*1000);\r\n  }\r\n  checkDaytime = () => {\r\n    const timeNow = new Date();\r\n    //verificamos se a hora está entre a hora do nascer do sol e a hora do por do sol\r\n    if (timeNow.getHours() > this.state.nascer_do_sol.slice(0, 3) && timeNow.getHours() < this.state.por_do_sol.slice(0, 3)) {\r\n      return true;\r\n    }\r\n    //verificamos se a hora é igual a hora do nascer do sol\r\n    if (timeNow.getHours() === this.state.nascer_do_sol.slice(0, 3)){\r\n      //verificamos se o minuto é maior ou igual o minuto do nascer do sol\r\n      if (timeNow.getMinutes() > this.state.nascer_do_sol.slice(4, 6)){\r\n        return true;\r\n      }\r\n      //caso o minuto seja igual, verificamos os segundos\r\n      if (timeNow.getMinutes() === this.state.nascer_do_sol.slice(4, 6)){\r\n        //caso o segundo seja maior ou igual\r\n        if (timeNow.getSeconds() >= this.state.nascer_do_sol.slice(7, 9)){\r\n          return true;\r\n        }\r\n        //caso o segundo seja menor\r\n        if (timeNow.getSeconds() < this.state.nascer_do_sol.slice(7, 9)){\r\n          return false;\r\n        }\r\n      }\r\n      //caso o minuto seja menor que o do nascer do sol\r\n      if (timeNow.getMinutes() < this.state.nascer_do_sol.slice(4, 6)){\r\n        return false;\r\n      }\r\n    }\r\n    //verificamos se a hora é igual a hora do por do sol\r\n    if(timeNow.getHours() === this.state.por_do_sol.slice(0, 3)) {\r\n    //verificamos se o minuto é menor ou igual o minuto do nascer do sol\r\n      if (timeNow.getMinutes() < this.state.por_do_sol.slice(4, 6)){\r\n        return true;\r\n      }\r\n      //caso o minuto seja igual, verificamos os segundos\r\n      if (timeNow.getMinutes() === this.state.por_do_sol.slice(4, 6)){\r\n        //caso o segundo seja maior ou igual\r\n        if (timeNow.getSeconds() <= this.state.por_do_sol.slice(7, 9)){\r\n          return true;\r\n        }\r\n        //caso o segundo seja menor\r\n        if (timeNow.getSeconds() > this.state.por_do_sol.slice(7, 9)){\r\n          return false;\r\n        }\r\n      }\r\n      //caso o minuto seja maior que o do nascer do sol\r\n      if (timeNow.getMinutes() > this.state.por_do_sol.slice(4, 6)){\r\n        return false;\r\n      }\r\n    }\r\n    //verificamos se a hora é menor que a hora do nascer do sol ou maior que a hora do por do sol\r\n    if (timeNow.getHours() < this.state.nascer_do_sol.slice(0, 3) || timeNow.getHours() > this.state.por_do_sol.slice(0, 3)){\r\n      return false\r\n    }\r\n  }\r\n  render (){\r\n    return (\r\n      <div className='left-box'>\r\n        <TempHumi\r\n          temperaturaClimatempo={this.state.temperaturaClimatempo}\r\n          umidadeClimatempo={this.state.umidadeClimatempo}\r\n          temperaturaSEL={this.state.temperaturaSEL}\r\n          umidadeSEL={this.state.umidadeSEL}\r\n          chuvaSEL={this.state.chuvaSEL}\r\n        />\r\n        <WeatherForecast />\r\n        <SunriseSunset />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}