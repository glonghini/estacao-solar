(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){"use strict";a.r(t);var i=a(0),l=a.n(i),s=a(56),n=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(63);var r=function(){return l.a.createElement("header",null,l.a.createElement("a",{href:"http://www.sel.eesc.usp.br/lio/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("img",{className:"header",src:"../images/lab_ocular_portrait.png",alt:"LIO logo"})))},c=a(7),m=a(8),o=a(10),u=a(9),d=a(11),h=a(5),v=a.n(h),E=function(e){var t=new Date;return 0!==t.getMonth()||24!==t.getDate()&&25!==t.getDate()&&26!==t.getDate()&&27!==t.getDate()?10!==t.getMonth()||11!==t.getDate()&&12!==t.getDate()&&13!==t.getDate()&&14!==t.getDate()?l.a.createElement("div",null,l.a.createElement("div",{className:"lens-box"},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Tempo total de exposi\xe7\xe3o:")))),l.a.createElement("div",{className:"efeito"},e.time," horas"))):l.a.createElement("div",null,l.a.createElement("div",{className:"lens-box"},l.a.createElement("h3",null,l.a.createElement("p",null,"Tempo total de exposi\xe7\xe3o:")),l.a.createElement("div",{className:"efeito"},e.time," horas"),l.a.createElement("div",{className:"box-uv uv-index-9"},l.a.createElement("h3",null," Aten\xe7\xe3o: girar o painel em dire\xe7\xe3o ao sol no dia 14/11 "),l.a.createElement("h3",null," Este aviso ser\xe1 mostrado at\xe9 o dia 14 ")))):l.a.createElement("div",null,l.a.createElement("div",{className:"lens-box"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Tempo total de exposi\xe7\xe3o:"))),l.a.createElement("div",{className:"efeito"},e.time," horas"),l.a.createElement("h3",null," Aten\xe7\xe3o: girar o painel em dire\xe7\xe3o ao sol no dia 27/01 "),l.a.createElement("h3",null," Este aviso ser\xe1 mostrado at\xe9 o dia 27 ")))},p=function(e){if(e.isGateOpen&&!1===e.isDaytime)return l.a.createElement("div",null,l.a.createElement("div",{className:"box-alerta-gate"},l.a.createElement("div",{className:"aviso"},"!")),l.a.createElement("h3",null,"Port\xe3o aberto durante a noite"),l.a.createElement("div",{className:"gate gate-open"},l.a.createElement("div",{className:"portao"},"Aberto")));if(!1===e.isGateOpen&&e.isDaytime){if(e.isRaining)return l.a.createElement("div",null,l.a.createElement("div",{className:"box-alerta-gate"},l.a.createElement("div",{className:"aviso"},"!")),l.a.createElement("h3",null,"Port\xe3o fechado durante o dia por causa da chuva"),l.a.createElement("div",{className:"gate gate-closed"},l.a.createElement("div",{className:"portao"},"Fechado")));if(!1===e.isRaining)return l.a.createElement("div",null,l.a.createElement("div",{className:"box-alerta-gate"},l.a.createElement("div",{className:"aviso"},"!")),l.a.createElement("h3",null,"Port\xe3o fechado durante o dia"),l.a.createElement("div",{className:"gate gate-closed"},l.a.createElement("div",{className:"portao"},"Fechado")))}return e.isGateOpen&&e.isDaytime?l.a.createElement("div",null,l.a.createElement("div",{className:"gate gate-open"},l.a.createElement("div",{className:"portao"},"Aberto"))):!1===e.isGateOpen&&!1===e.isDaytime?l.a.createElement("div",null,l.a.createElement("div",{className:"gate gate-closed"},l.a.createElement("div",{className:"portao"},"Fechado"))):(console.log("N\xe3o foi poss\xedvel obter o estado do port\xe3o"),l.a.createElement("div",null,l.a.createElement("h3",null,"N\xe3o foi poss\xedvel obter o estado do port\xe3o")))},g=a(32),D=function(e){return l.a.createElement("div",{className:"chart"},l.a.createElement(g.a,{data:e.chartData,options:e.chartData.options}))},b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={dataMatrixTempHumi:[],dataMatrixUV:[],firstDaytimePosition:0,lastDaytimePosition:0,isTempActive:!0,isHumiActive:!1,isUVActive:!0,is30sActive:!1,is1mActive:!1,is5mActive:!1,is15mActive:!0,is30mActive:!1,is1hActive:!1,timeScaleNow:"15m",chartData:{labels:[],datasets:[{label:"Temperatura",fontSize:10,id:"y-axis-left",data:[],backgroundColor:[]},{label:"Umidade",yAxisID:"y-axis-left",data:[],backgroundColor:[]},{label:"\xcdndice UV",yAxisID:"y-axis-right",data:[],backgroundColor:[]}],options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!1,position:"left",id:"y-axis-left",ticks:{beginAtZero:!0},gridLines:{display:!1}},{stacked:!0,position:"right",id:"y-axis-right",gridLines:{display:!1}}]}}}},a.requestTempHumiUV=function(){v.a.get("http://143.107.235.2:8000/sensors/files/logsUV/log-"+a.dataDateRequest()+".txt").then(function(e){a.createMatrixUV(e.data),a.refreshData()}).catch(function(e){console.log("erro com o request do hist\xf3rico de temperatura e umidade"),console.log(e)}),v.a.get("http://143.107.235.2:8000/sensors/files/logs/log-"+a.dataDateRequest()+".txt").then(function(e){a.createMatrixTempHumi(e.data),a.refreshData()}).catch(function(e){console.log("erro com o request do hist\xf3rico uv"),console.log(e)}),setTimeout(a.requestTempHumiUV,3e4)},a.dataDateRequest=function(){var e=new Date;return e.getDate()<10?e.getMonth()+1<10?"0"+e.getDate()+"_0"+(e.getMonth()+1)+"_"+e.getFullYear():void 0:e.getDate()<10?"0"+e.getDate()+"_"+(e.getMonth()+1)+"_"+e.getFullYear():e.getMonth()+1<10?e.getDate()+"_0"+(e.getMonth()+1)+"_"+e.getFullYear():e.getDate()+"_"+(e.getMonth()+1)+"_"+e.getFullYear()},a.createMatrixTempHumi=function(e){a.state.dataMatrixTempHumi=[];var t,i=e.replace(/\n/g,"\t").split("\t");for(t=0;t<i.length;t+=6)a.state.dataMatrixTempHumi.push(i.slice(t,t+6))},a.createMatrixUV=function(e){a.state.dataMatrixUV=[];var t,i=e.replace(/\n/g,"\t").split("\t");for(t=0;t<i.length;t+=12)a.state.dataMatrixUV.push(i.slice(t,t+12))},a.dataTimeScaleBuilder=function(e,t){var i=[],l=[],s=0,n=0;for("Temperatura"===t?(a.matrix=a.state.dataMatrixTempHumi,n=3):"Umidade"===t?(a.matrix=a.state.dataMatrixTempHumi,n=4):"UV"===t&&(a.matrix=a.state.dataMatrixUV,n=3),s=0;s<=a.matrix.length-1;){if(a.matrix[s][0].slice(0,2)>=5&&a.matrix[s][0].slice(0,2)<=20){a.state.firstDaytimePosition=s;break}s++}for(s=0;s<=a.matrix.length-1;){if(a.matrix[s][0].slice(0,2)>=20||s===a.matrix.length-1){a.state.lastDaytimePosition=s;break}s++}if(null===a.state.firstDaytimePosition?console.log("erro na captura dos dados: n\xe3o houve captura durante o dia"):null===a.state.lastDaytimePosition&&console.log("erro na captura dos dados: n\xe3o houve captura durante o dia"),"30s"===e){for(s=a.state.firstDaytimePosition;s<Math.min(a.matrix.length-1,a.state.lastDaytimePosition);s+=1)i.push(a.matrix[s][0]),l.push(a.matrix[s][n])}else if("1m"===e){for(s=a.state.firstDaytimePosition;s<Math.min(a.matrix.length-1,a.state.lastDaytimePosition);s+=2)i.push(a.matrix[s][0].slice(0,5)),l.push(a.matrix[s][n])}else if("5m"===e){for(s=a.state.firstDaytimePosition;s<Math.min(a.matrix.length-1,a.state.lastDaytimePosition);s+=10)i.push(a.matrix[s][0].slice(0,5)),l.push(a.matrix[s][n])}else if("15m"===e){for(s=a.state.firstDaytimePosition;s<Math.min(a.matrix.length-1,a.state.lastDaytimePosition);s+=30)i.push(a.matrix[s][0].slice(0,5)),l.push(a.matrix[s][n])}else if("30m"===e){for(s=a.state.firstDaytimePosition;s<Math.min(a.matrix.length-1,a.state.lastDaytimePosition);s+=60)i.push(a.matrix[s][0].slice(0,5)),l.push(a.matrix[s][n])}else if("1h"===e){for(s=a.state.firstDaytimePosition;s<Math.min(a.matrix.length-1,a.state.lastDaytimePosition);s+=120)i.push(a.matrix[s][0].slice(0,2)+"h"),l.push(a.matrix[s][n])}return[i,l]},a.changeDataTemp=function(){var e=a.dataTimeScaleBuilder(a.state.timeScaleNow,"Temperatura");a.state.isTempActive?(a.state.chartData.datasets[0].data=[],a.state.chartData.datasets[0].backgroundColor=[]):(a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1],a.state.chartData.datasets[0].backgroundColor=["rgba(255, 0, 0, 0.5)"]),a.state.isTempActive=!a.state.isTempActive,!1===a.state.isTempActive&&!1===a.state.isHumiActive&&!1===a.state.isUVActive&&(a.state.chartData.labels=[]),a.forceUpdate()},a.changeDataHumi=function(){var e=a.dataTimeScaleBuilder(a.state.timeScaleNow,"Umidade");a.state.isHumiActive?(a.state.chartData.datasets[1].data=[],a.state.chartData.datasets[1].backgroundColor=[]):(a.state.chartData.labels=e[0],a.state.chartData.datasets[1].data=e[1],a.state.chartData.datasets[1].backgroundColor=["rgba(0, 0, 255, 0.5)"]),a.state.dataNow="Umidade",a.state.isHumiActive=!a.state.isHumiActive,!1===a.state.isTempActive&&!1===a.state.isHumiActive&&!1===a.state.isUVActive&&(a.state.chartData.labels=[]),a.forceUpdate()},a.changeDataUV=function(){var e=a.dataTimeScaleBuilder(a.state.timeScaleNow,"UV");a.state.isUVActive?(a.state.chartData.datasets[2].data=[],a.state.chartData.datasets[2].backgroundColor=[]):(a.state.chartData.labels=e[0],a.state.chartData.datasets[2].data=e[1],a.state.chartData.datasets[2].backgroundColor=["rgba(192, 0, 255, 0.5)"]),a.state.dataNow="UV",a.state.isUVActive=!a.state.isUVActive,!1===a.state.isTempActive&&!1===a.state.isHumiActive&&!1===a.state.isUVActive&&(a.state.chartData.labels=[]),a.forceUpdate()},a.changeTimeScale30s=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder("30s","Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder("30s","Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder("30s","UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1]}a.state.is30sActive=!0,a.state.is1mActive=!1,a.state.is5mActive=!1,a.state.is15mActive=!1,a.state.is30mActive=!1,a.state.is1hActive=!1,a.state.timeScaleNow="30s",a.forceUpdate()},a.changeTimeScale1m=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder("1m","Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder("1m","Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder("1m","UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1]}a.state.is30sActive=!1,a.state.is1mActive=!0,a.state.is5mActive=!1,a.state.is15mActive=!1,a.state.is30mActive=!1,a.state.is1hActive=!1,a.state.timeScaleNow="1m",a.forceUpdate()},a.changeTimeScale5m=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder("5m","Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder("5m","Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder("5m","UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1]}a.state.is30sActive=!1,a.state.is1mActive=!1,a.state.is5mActive=!0,a.state.is15mActive=!1,a.state.is30mActive=!1,a.state.is1hActive=!1,a.state.timeScaleNow="5m",a.forceUpdate()},a.changeTimeScale15m=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder("15m","Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder("15m","Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder("15m","UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1]}a.state.is30sActive=!1,a.state.is1mActive=!1,a.state.is5mActive=!1,a.state.is15mActive=!0,a.state.is30mActive=!1,a.state.is1hActive=!1,a.state.timeScaleNow="15m",a.forceUpdate()},a.changeTimeScale30m=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder("30m","Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder("30m","Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder("30m","UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1]}a.state.is30sActive=!1,a.state.is1mActive=!1,a.state.is5mActive=!1,a.state.is15mActive=!1,a.state.is30mActive=!0,a.state.is1hActive=!1,a.state.timeScaleNow="30m",a.forceUpdate()},a.changeTimeScale1h=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder("1h","Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder("1h","Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder("1h","UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1]}a.state.is30sActive=!1,a.state.is1mActive=!1,a.state.is5mActive=!1,a.state.is15mActive=!1,a.state.is30mActive=!1,a.state.is1hActive=!0,a.state.timeScaleNow="1h",a.forceUpdate()},a.refreshData=function(){if(a.state.isTempActive){var e=a.dataTimeScaleBuilder(a.state.timeScaleNow,"Temperatura");a.state.chartData.labels=e[0],a.state.chartData.datasets[0].data=e[1],a.state.chartData.datasets[0].label="Temperatura",a.state.chartData.datasets[0].backgroundColor=["rgba(255, 0, 0, 0.5)"]}if(a.state.isHumiActive){var t=a.dataTimeScaleBuilder(a.state.timeScaleNow,"Umidade");a.state.chartData.labels=t[0],a.state.chartData.datasets[1].data=t[1],a.state.chartData.datasets[1].label="Umidade",a.state.chartData.datasets[1].backgroundColor=["rgba(0, 0, 255, 0.5)"]}if(a.state.isUVActive){var i=a.dataTimeScaleBuilder(a.state.timeScaleNow,"UV");a.state.chartData.labels=i[0],a.state.chartData.datasets[2].data=i[1],a.state.chartData.datasets[2].label="\xcdndice UV",a.state.chartData.datasets[2].backgroundColor=["rgba(192, 0, 255, 0.5)"]}a.forceUpdate()},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.requestTempHumiUV()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{width:"10%"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"},"Medida"),l.a.createElement("th",{colSpan:"6"},"Escala de Tempo"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("input",{className:this.state.isTempActive?"button-temp-chart":"button",value:"Temperatura",type:"button",onClick:this.changeDataTemp})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.isHumiActive?"button-humi-chart":"button",value:"Umidade",type:"button",onClick:this.changeDataHumi})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.isUVActive?"button-uv-chart":"button",value:"\xcdndice UV",type:"button",onClick:this.changeDataUV})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.is30sActive?"button-time-chart":"button",value:"30s",type:"button",onClick:this.changeTimeScale30s})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.is1mActive?"button-time-chart":"button",value:"1m",type:"button",onClick:this.changeTimeScale1m})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.is5mActive?"button-time-chart":"button",value:"5m",type:"button",onClick:this.changeTimeScale5m})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.is15mActive?"button-time-chart":"button",value:"15m",type:"button",onClick:this.changeTimeScale15m})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.is30mActive?"button-time-chart":"button",value:"30m",type:"button",onClick:this.changeTimeScale30m})),l.a.createElement("td",null,l.a.createElement("input",{className:this.state.is1hActive?"button-time-chart":"button",value:"1h",type:"button",onClick:this.changeTimeScale1h})))))),l.a.createElement(D,{chartData:this.state.chartData}))}}]),t}(l.a.Component),f=function(e){function t(){var e,a;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={cameraLink:""},a.cameraRefresh=function(){a.setState({cameraLink:"http://143.107.235.2:8000/sensors/media"}),setInterval(a.cameraRefresh,3e4)},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.cameraRefresh()}},{key:"render",value:function(){return l.a.createElement("div",{className:"camera-image"},l.a.createElement("img",{src:this.state.cameraLink,width:"100%",height:"100%",alt:"camera feed"}))}}]),t}(l.a.Component),S=function(e){return e.uvSEL<=1?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-1"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Baixo"))):2===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-2"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Baixo"))):3===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-3"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"M\xe9dio"))):4===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-4"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"M\xe9dio"))):5===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-5"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"M\xe9dio"))):6===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-6"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Alto"))):7===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-7"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Alto"))):8===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-8"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Muito Alto"))):9===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-9"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Muito Alto"))):10===e.uvSEL?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-10"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Muito Alto"))):e.uvSEL>=11?l.a.createElement("div",null,l.a.createElement("div",{className:"box-uv uv-index-11"},l.a.createElement("div",{className:"uv-index-number"},e.uvSEL),l.a.createElement("div",{className:"uv-index-level"},"Extremo"))):null},x=function(e){return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("th",null,"Esta\xe7\xe3o"),l.a.createElement("th",null,"Climatempo"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("img",{src:"../images/thermometer.png",alt:"thermometer icon"})),l.a.createElement("td",null,e.temperaturaSEL),l.a.createElement("td",null,e.temperaturaClimatempo)),l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("img",{src:"../images/humidity.png",alt:"humidity icon"})),l.a.createElement("td",null,e.umidadeSEL),l.a.createElement("td",null,e.umidadeClimatempo)),l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("img",{src:"../images/rain.png",alt:"rain icon"})),l.a.createElement("td",null,e.chuvaSEL),l.a.createElement("td",null)))))},A=function(e){return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("img",{src:"../../images/sunrise.png",width:"45%",alt:"sunrise icon"})),l.a.createElement("th",null,l.a.createElement("img",{src:"../../images/sunset.png",width:"45%",alt:"sunset icon"})),l.a.createElement("th",null,"Dura\xe7\xe3o do dia"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,e.nascerDoSol),l.a.createElement("td",null,e.porDoSol),l.a.createElement("td",null,e.duracaoDoDia)))))},T=function(e){return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"},l.a.createElement("h3",null,e.cidade,", ",e.data)))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("img",{src:e.iconManha,alt:"morning weather forecast"})),l.a.createElement("td",null,l.a.createElement("img",{src:e.iconTarde,alt:"afternoon weather forecast"})),l.a.createElement("td",null,l.a.createElement("img",{src:e.iconNoite,alt:"night weather forecast"}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("h3",null,"Manh\xe3")),l.a.createElement("td",null,l.a.createElement("h3",null,"Tarde")),l.a.createElement("td",null,l.a.createElement("h3",null,"Noite"))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3"},l.a.createElement("h3",null,e.frase))))),l.a.createElement("table",{align:"center"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("img",{src:"../images/rain.png",alt:"rain icon"})),l.a.createElement("th",null,l.a.createElement("img",{src:"../images/humidity.png",alt:"humidity icon"})),l.a.createElement("th",null,l.a.createElement("img",{src:"../images/thermometer.png",alt:"thermometer icon"})),l.a.createElement("th",null,l.a.createElement("img",{src:"../images/wind.png",alt:"wind icon"})))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{rowSpan:"2"},e.probabilidadeChuva,"% ",e.precipitacaoChuva,"mm"),l.a.createElement("td",null,e.umidadeMax,"%"),l.a.createElement("td",null,e.temperaturaMax,"\xb0C"),l.a.createElement("td",null,e.ventoMax," km/h")),l.a.createElement("tr",null,l.a.createElement("td",null,e.umidadeMin,"%"),l.a.createElement("td",null,e.temperaturaMin,"\xb0C"),l.a.createElement("td",null,e.ventoMin," km/h")))))},N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={temperaturaClimatempo:null,umidadeClimatempo:null,temperaturaSEL:null,umidadeSEL:null,uvSEL:null,chuvaSEL:null,nascerDoSol:null,porDoSol:null,duracaoDoDia:null,isGateOpen:null,isRaining:null,isDaytime:null,expositionTime:null,cidade:null,frase:null,data:null,iconManha:null,iconTarde:null,iconNoite:null,probabilidadeChuva:null,precipitacaoChuva:null,temperaturaMin:null,temperaturaMax:null,umidadeMin:null,umidadeMax:null,ventoMin:null,ventoMax:null},a.requestClimatempo=function(){v.a.get("http://apiadvisor.climatempo.com.br/api/v1/weather/locale/3680/current?token=2e30b5793b0c662d9b901520663bd4d0").then(function(e){console.log(e.data),a.setState({temperaturaClimatempo:e.data.data.temperature+"\xb0C",umidadeClimatempo:e.data.data.humidity+"%"})}).catch(function(e){console.log("erro com o request do climatempo"),console.log(e)}),setTimeout(a.requestClimatempo,3e5)},a.requestLioSensors=function(){v.a.get("http://www.sel.eesc.usp.br/liosensors/json_data.php").then(function(e){console.log(e.data),a.setState({temperaturaSEL:e.data.lastTemp+"\xb0C",umidadeSEL:e.data.lastHum+"%",uvSEL:Math.round(e.data.lastUV),chuvaSEL:e.data.Rain})}).catch(function(e){console.log("erro com o request dos nossos sensores na SEL"),console.log(e)}),setTimeout(a.requestLioSensors,3e4)},a.requestSunriseSunsetTime=function(){v.a.get("http://143.107.235.2:8000/sensors/data/").then(function(e){console.log(e.data),a.setState({nascerDoSol:e.data.sensors[0].local.sunrise.slice(10,19),porDoSol:e.data.sensors[0].local.sunset.slice(10,19),duracaoDoDia:e.data.sensors[0].local.time.slice(10,19),isGateOpen:e.data.sensors[0].open,isRaining:e.data.sensors[0].rain,expositionTime:e.data.sensors[0].ExpositionTime}),a.checkDaytime()}).catch(function(e){console.log("erro com o request do 143.107.235.2:8000"),console.log(e)}),setTimeout(a.requestSunriseSunsetTime,3e4)},a.requestTodayWeatherForecast=function(){v.a.get("http://apiadvisor.climatempo.com.br/api/v1/forecast/locale/3680/days/15?token=2e30b5793b0c662d9b901520663bd4d0").then(function(e){console.log(e.data),a.setState({cidade:e.data.name,frase:e.data.data[0].text_icon.text.pt,data:e.data.data[0].date_br,iconManha:"../images/"+e.data.data[0].text_icon.icon.morning+".png",iconTarde:"../images/"+e.data.data[0].text_icon.icon.afternoon+".png",iconNoite:"../images/"+e.data.data[0].text_icon.icon.night+".png",probabilidadeChuva:e.data.data[0].rain.probability,precipitacaoChuva:e.data.data[0].rain.precipitation,temperaturaMin:e.data.data[0].temperature.min,temperaturaMax:e.data.data[0].temperature.max,umidadeMin:e.data.data[0].humidity.min,umidadeMax:e.data.data[0].humidity.max,ventoMin:e.data.data[0].wind.velocity_min,ventoMax:e.data.data[0].wind.velocity_max})}).catch(function(e){console.log("erro com o request da previs\xe3o do tempo do climatempo"),console.log(e)}),setTimeout(a.todayWeatherForecast,36e5),a.forceUpdate()},a.checkDaytime=function(){var e=new Date;e.getHours()>a.state.nascerDoSol.slice(0,3)&&e.getHours()<a.state.porDoSol.slice(0,3)&&a.setState({isDaytime:!0}),e.getHours()===a.state.nascerDoSol.slice(0,3)&&(e.getMinutes()>a.state.nascerDoSol.slice(4,6)&&a.setState({isDaytime:!0}),e.getMinutes()===a.state.nascerDoSol.slice(4,6)&&(e.getSeconds()>=a.state.nascerDoSol.slice(7,9)&&a.setState({isDaytime:!0}),e.getSeconds()<a.state.nascerDoSol.slice(7,9)&&a.setState({isDaytime:!1})),e.getMinutes()<a.state.nascerDoSol.slice(4,6)&&a.setState({isDaytime:!1})),e.getHours()===a.state.porDoSol.slice(0,3)&&(e.getMinutes()<a.state.porDoSol.slice(4,6)&&a.setState({isDaytime:!0}),e.getMinutes()===a.state.porDoSol.slice(4,6)&&(e.getSeconds()<=a.state.porDoSol.slice(7,9)&&a.setState({isDaytime:!0}),e.getSeconds()>a.state.porDoSol.slice(7,9)&&a.setState({isDaytime:!1})),e.getMinutes()>a.state.porDoSol.slice(4,6)&&a.setState({isDaytime:!1})),(e.getHours()<a.state.nascerDoSol.slice(0,3)||e.getHours()>a.state.porDoSol.slice(0,3))&&a.setState({isDaytime:!1})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.requestClimatempo(),this.requestLioSensors(),this.requestSunriseSunsetTime(),this.requestTodayWeatherForecast()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"left-box"},l.a.createElement("h2",null,"Temperatura e Humidade"),l.a.createElement(x,{temperaturaClimatempo:this.state.temperaturaClimatempo,umidadeClimatempo:this.state.umidadeClimatempo,temperaturaSEL:this.state.temperaturaSEL,umidadeSEL:this.state.umidadeSEL,chuvaSEL:this.state.chuvaSEL}),l.a.createElement("h2",null,"\xcdndice UV"),l.a.createElement(S,{uvSEL:this.state.uvSEL}),l.a.createElement("h2",null,"Lentes"),l.a.createElement(E,{time:this.state.expositionTime})),l.a.createElement("div",{className:"center-box"},l.a.createElement("h2",null,"C\xe2mera e Gr\xe1fico"),l.a.createElement(f,null),l.a.createElement(b,null)),l.a.createElement("div",{className:"right-box"},l.a.createElement("h2",null,"Previs\xe3o do Tempo"),l.a.createElement(T,{cidade:this.state.cidade,frase:this.state.frase,data:this.state.data,iconManha:this.state.iconManha,iconTarde:this.state.iconTarde,iconNoite:this.state.iconNoite,probabilidadeChuva:this.state.probabilidadeChuva,precipitacaoChuva:this.state.precipitacaoChuva,temperaturaMin:this.state.temperaturaMin,temperaturaMax:this.state.temperaturaMax,umidadeMin:this.state.umidadeMin,umidadeMax:this.state.umidadeMax,ventoMin:this.state.ventoMin,ventoMax:this.state.ventoMax}),l.a.createElement("h2",null,"Nacer e P\xf4r do Sol"),l.a.createElement(A,{nascerDoSol:this.state.nascerDoSol,porDoSol:this.state.porDoSol,duracaoDoDia:this.state.duracaoDoDia}),l.a.createElement("h2",null,"Estado do Port\xe3o"),l.a.createElement(p,{isGateOpen:this.state.isGateOpen,isDaytime:this.state.isDaytime,isRaining:this.state.isRaining})))}}]),t}(l.a.Component);n.a.render(l.a.createElement(function(){return l.a.createElement("div",null,l.a.createElement(r,null),l.a.createElement(N,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t,a){e.exports=a(175)},63:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.a23a1111.chunk.js.map